--- 
wordpress_id: 444
layout: post
title: !binary |
  UDJQIOS4i+i8ieWFqOenmOaKgO+8mig0LTEpIOmAn+W6puWEquWMlg==

date: 2007-08-19 01:50:00 +08:00
wordpress_url: http://blog.xdite.net/?p=444
---
<p>速度優化是大家最關心的一個議題。這也牽涉到你選用的 P2P 軟體或是種子來源、甚至是發佈軟體。ed2k 當然就只有 emule 可以選。BT 擇需視情況挑選 BC 或 UT。</p>
<p>先來講 BT 好了。</p>
<br/><h2>視情況挑選 BC 和 UT</h2>
<br/><br/>1. 軟體版號之間的互斥性，甚至是 BC 與 Tracker 的互斥性。<br/><br/>BC 有所謂的封包檔頭加密，大概是在 0.6x 版時開發出來的，目的是要<strong>閃躲會偵測 P2P 封包的機器</strong>（所以沒有閃躲功能的軟體就謝謝再聯絡），後來 UT 在不久後也跟進。而通常有支援封包加密的 Client 跟沒有封包加密的 Clinet 是有隔閡存在的。<br/><p>另外太閒會觀察 Peer 來源的會發現，其實除跟 Current 版號差太多的使用者是吸不太到日月精華的，連不同 陣營的也彼此互吸不太到的。大致上就是 BC 可以硬吸其他人的，但是其他人要吸 BC 有點難度。</p>
<p>2. 不同檔案供檔者的地域性。</p>
<p>但 BC 並不是萬能的。BC 是對岸開發出來的，當然著名的特徵就是使用者大多在中文區，因此在各種中文資源（含英文資源但是具有中文翻譯），使用 BC 下載佔盡優勢。</p>
<p>但是在非中文區就不是 BC 的天下了，而且 BC 惡名昭彰的一點是，它會對 中繼 Tracker 造成極大的負擔（一直去問一直去問 -_-，當然快）。所以許多外國著名的 Tracker，除了可能有 login 限制（規定你要在論壇上註冊並登入掛站），也會限制會使用者不准用BC。這時候當然就是 UT 的天下。</p>
<p>不過非不可解，要破這種招數很簡單，<strong>蒐集熱門公共 tracker 數十個，每個種子都貼下去，亂槍打鳥一定中，就可以繞開這種機車的限制</strong>。不過要是遇到獨家 Tracker 就比較頭大了，這種情況在稀有檔比較常發生，熱門檔通常可以用此手法繞過。</p>
<p><br/></p>
<h2>下載策略</h2>
<p><br/></p>
<p>種子來源第五篇再談。本段談的是如何調校你的下載軟體以及 scedule 安排。這一段不管是 BT 和 emule 原理都通用。</p>
<p>你需要作的是</p>
<p>(1) 下載時預先配先配置空間<br/>(2) CACHE 開大<br/><br/><strong>避免時間都耗在 swap 和讀寫臂奔波上。<br/></strong><br/>(3) 避用預設 PORT</p>
<p><strong>有些外部的防火牆設立了簡單的規則擋 4662 或 5xxx （我忘記 BT 原來預設喜歡走什麼 port 了）<br/></strong><br/>(4) 記得調整每秒可接受 REQUEST 數。</p>
<p><strong>自從疾風事件後，每秒 REQEUST 數被微軟調到 10 了。要玩 P2P 請記得調大，不然怎麼玩效率都不高。</strong></p>
<p><br/>(5) 調配同一條線上的上下傳速率。</p>
<p><strong>我在第一篇文曾經提及，上下傳速率不是分開計，是合計。因此 在 8M /640k 的線上理想的上傳值約是 20 KB/s 上下（我通常可以調到下載超過 400KB/s 以上，當然最理想的狀態是上 700 KB/s ...:p）。其餘的線路請自行用紙筆計算。</strong></p>
<p><br/>(6) 避免一次開五線以上下載，請使用輪班策略。</p>
<strong><p>每一台電腦不管在硬體或 OS 策略上都有處理 REQUEST 的極限，因此在有限的可處理 request 數與通訊對口數下，集中火力與可供檔的點交流是必要的。很多人總以為開多線下載才會「快」，其實這是很不好的策略。多線下載整體速度是不會比輪班「慢」到哪裡去（輪班約快 1/3 ~ 1/4 的速度）。但是當你天亮睡醒後，輪班法有東西完檔，多線同時下載可沒有。而且一次開數十線同時下載，還會產生最糟糕的情形，通通都慢 XD。</p></strong>
<p><br/>---</p>
<p>02:00 了，輪班策略與 emule 輪班策略的應用極致明天再講。</p>
