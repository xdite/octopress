--- 
wordpress_id: 472
layout: post
title: !binary |
  6Zi75pOLIGZveHkg55qE57Ch5piT5a+m5L2c5pa55rOV

date: 2007-10-07 20:50:33 +08:00
wordpress_url: http://blog.xdite.net/?p=472
---
這篇就技術人眼光，沒有什麼寫的價值。只是近一個月的測試下來，非常的管用，特此分享給大家。

筆者最近因為搬家（本來自己一條 ADSL），網路也換了一條。新的宿舍用的是房東牽的 ADSL （使用 IP 分享器）。因為我租的是學生宿舍區，開學前網路都很順暢。開學後大概沒三天，網路就癱瘓了（大家狂抓 p2p）。這種事情大家當然都會遇到，可是大家也心知肚明，找房東是沒有用的，偷拔網路線更是沒有用。

更機車的是，Foxy 是 random port，想擋也擋不了。全擋只開放特定 port，IP 分享器又會設到死。

難道就這麼束手就擒嗎？筆者網路癱瘓後的幾個小時，我就找到了解決之道。

溜進（我不是 hack 唷，純粹只是管理密碼是預設的 XD）IP 分享器，對 IP 分享器寫下幾條規則：

<strong>
1. 走 5000 以後 port 的協定通通幹掉。
2. 不是 DHCP 外的 IP 不受此限。</strong>（ 這個是為了如果你自己要走一些奇怪 port 的 ftp，自己方便啦）
---

這個原理是建立在著名通訊協定、通訊軟體都 port 號碼都很小的基礎上。一般 P2P 軟體為了閃防火牆規則都會亂指定 port，擋無可擋，但只要稍微留意一下他們選的 port ，其實大半都在 6000 ~ 20000 之間。Foxy 不能指定 port。自然遇到這個規則就會被擋光光。

這段規則設下去的一個月至今，筆者網路每天都順暢無比，推薦大家使用。（ 可縮到 4000 .. 記得不要縮太小）

-------
後記：

當然有人會問，這個規則這麼簡單，很可能就會被懂的人破了吧。

其實也未必：

1. 除了你以外，沒有人知道分享器被設了這個規則。正常人只會以為這個 IP 分享器設計良好，竟然什麼 P2P 都不會 work。不會有人想到被動了手腳，除非擋到不該擋的軟體。
2. 就算跑不動 P2P，也沒有人會鬧到房東（也許更剛好你自己就是房東）那裡去，或要求房東改善XD。
3. 絕大多數使用 Foxy 的人，對網路通訊協定一無所知。甚至連基本的網路設定都一竅不通（只知道插上網路線能開網頁就好了）。懂得調自己電腦設定閃這種規則少之又少。就算他跑去求助電腦高手，可能連異常事件都描述不清楚。

雖然不是什麼深奧的 tips，不過歡迎大家在自己 ip 分享器上實驗看看 XD
